var GoogleAds_RS=function(e){"use strict";var t="Google Ads";const r={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}};class n{constructor(e,t){this.level=+t||r.ERROR.value,this.scope=e||""}setLogLevel(e){if(e&&"string"==typeof e){const t=e.toUpperCase();this.level=r[t]?r[t].value:this.level}}setScope(e){this.scope=e||this.scope}log(...e){this.logBase(e,r.LOG.value)}info(...e){this.logBase(e,r.INFO.value)}debug(...e){this.logBase(e,r.DEBUG.value)}warn(...e){this.logBase(e,r.WARN.value)}error(...e){this.logBase(e,r.ERROR.value)}logBase(e,t){if(this.level<=t){Object.values(r).find(e=>e.value===t).method(...this.getLogData(e))}}getLogData(e){if(Array.isArray(e)&&e.length>0){let t="%c RS SDK";this.scope&&(t=`${t} - ${this.scope}`);t=`${t} %c ${e[0].trim()}`;const r=[];return r.push(t),r.push("font-weight: bold; background: black; color: white;"),r.push("font-weight: normal;"),r.push(...e.slice(1)),r}return e}}let o=3;const i={setLogLevel(e){switch(e.toUpperCase()){case"INFO":o=1;break;case"DEBUG":o=2;break;default:o=3}},info(...e){o<=1&&console.info(...e)},debug(...e){o<=2&&console.log(...e)},warn(...e){o<=3&&console.warn(...e)},error(...e){o<=4&&console.error(...e)}};function s(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function a(e){return function t(r){return 0===arguments.length||s(r)?t:e.apply(this,arguments)}}function c(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return s(r)?t:a(function(t){return e(r,t)});default:return s(r)&&s(n)?t:s(r)?a(function(t){return e(t,n)}):s(n)?a(function(t){return e(r,t)}):e(r,n)}}}const u=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function l(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function p(e,t,r){for(var n=0,o=r.length;n<o;){if(e(t,r[n]))return!0;n+=1}return!1}function d(e,t){return Object.prototype.hasOwnProperty.call(t,e)}const y="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var m=Object.prototype.toString,f=function(){return"[object Arguments]"===m.call(arguments)?function(e){return"[object Arguments]"===m.call(e)}:function(e){return d("callee",e)}}(),g=!{toString:null}.propertyIsEnumerable("toString"),v=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],h=function(){return arguments.propertyIsEnumerable("length")}(),_=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},b="function"!=typeof Object.keys||h?a(function(e){if(Object(e)!==e)return[];var t,r,n=[],o=h&&f(e);for(t in e)!d(t,e)||o&&"length"===t||(n[n.length]=t);if(g)for(r=v.length-1;r>=0;)d(t=v[r],e)&&!_(n,t)&&(n[n.length]=t),r-=1;return n}):a(function(e){return Object(e)!==e?[]:Object.keys(e)}),E=a(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function K(e,t,r,n){var o=l(e);function i(e,t){return O(e,t,r.slice(),n.slice())}return!p(function(e,t){return!p(i,t,e)},l(t),o)}function O(e,t,r,n){if(y(e,t))return!0;var o,i,s=E(e);if(s!==E(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(s){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(i=String(o).match(/^function (\w*)/))?"":i[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!y(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!y(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var a=r.length-1;a>=0;){if(r[a]===e)return n[a]===t;a-=1}switch(s){case"Map":return e.size===t.size&&K(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&K(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=b(e);if(c.length!==b(t).length)return!1;var u=r.concat([e]),l=n.concat([t]);for(a=c.length-1;a>=0;){var p=c[a];if(!d(p,t)||!O(t[p],e[p],u,l))return!1;a-=1}return!0}var A=c(function(e,t){return O(e,t,[],[])});var C=a(function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():e==Set||e instanceof Set?new Set:e==Map||e instanceof Map?new Map:u(e)?[]:function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:f(e)?function(){return arguments}():function(e){var t=Object.prototype.toString.call(e);return"[object Uint8ClampedArray]"===t||"[object Int8Array]"===t||"[object Uint8Array]"===t||"[object Int16Array]"===t||"[object Uint16Array]"===t||"[object Int32Array]"===t||"[object Uint32Array]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object BigInt64Array]"===t||"[object BigUint64Array]"===t}(e)?e.constructor.from(""):void 0}),w=a(function(e){return null!=e&&A(e,C(e))}),D=c(function(e,t){var r={};for(var n in t)e(t[n],n,t)&&(r[n]=t[n]);return r});const R=e=>!(e=>void 0===e)(e),L=e=>e?0===Object.keys(e).length:(i.warn("input is undefined or null"),!0),S=e=>!w(e),j=e=>null!=e,k=e=>R(e)&&j(e);function T(e,t=".",r="normal"){const n={};let o;return function e(i,s,a=new Set){let c;if(a.has(i))n[s]="[Circular Reference]";else{if(a.add(i),Object(i)!==i)n[s]=i;else if(Array.isArray(i)){for(c=0,o=i.length;c<o;c+=1)e(i[c],"strict"===r?`${s}${t}${c}`:`${s}[${c}]`,a);0===o&&(n[s]=[])}else{let r=!0;Object.keys(i).forEach(n=>{r=!1,e(i[n],s?`${s}${t}${n}`:n,a)}),r&&s&&(n[s]={})}a.delete(i)}}(e,""),n}for(var I=Object.defineProperty,N=(e,t)=>I(e,"name",{value:t,configurable:!0}),P=N(e=>null!==e&&"object"==typeof e,"isObject"),U=N((e,t,r)=>"function"==typeof r.join?r.join(e):e[0]+t+e[1],"join"),q=N((e,t,r)=>"function"==typeof r.split?r.split(e):e.split(t),"split"),F=N((e,t={},r)=>"function"!=typeof r?.isValid||r.isValid(e,t),"isValid"),V=N(e=>P(e)||"function"==typeof e,"isValidObject"),$=N((e,t,r={})=>{if(P(r)||(r={default:r}),!V(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));const n=Array.isArray(t),o="string"==typeof t,i=r.separator||".",s=r.joinChar||("string"==typeof i?i:".");if(!o&&!n)return e;if(void 0!==e[t])return F(t,e,r)?e[t]:r.default;const a=n?t:q(t,i,r),c=a.length;let u=0;do{let t=a[u];for("string"!=typeof t&&(t=String(t));t&&"\\"===t.slice(-1);)t=U([t.slice(0,-1),a[++u]||""],s,r);if(void 0!==e[t]){if(!F(t,e,r))return r.default;e=e[t]}else{let n=!1,o=u+1;for(;o<c;)if(t=U([t,a[o++]],s,r),n=void 0!==e[t]){if(!F(t,e,r))return r.default;e=e[t],u=o-1;break}if(!n)return r.default}}while(++u<c&&V(e));return u===c?e:r.default},"getValue"),B=256;B--;)(B+256).toString(16).substring(1);for(var G=0;G<256;G++)(G+256).toString(16).substring(1);const M=new n("Utils");function x(e,t,r,n){const o=[],i=t||{};return Array.isArray(r)?r.forEach(t=>{const r=$(e,t);r&&(Object.keys(r).forEach(e=>{n.includes(e)||o.push(e)}),o.forEach(e=>{void 0!==r[e]&&(i[e]=$(r,e))}))}):"root"===r?(Object.keys(e).forEach(e=>{n.includes(e)||o.push(e)}),o.forEach(t=>{void 0!==e[t]&&(i[t]=$(e,t))})):M.debug("unable to parse keys"),i}const Y=e=>R(e)&&(e=>null!==e)(e),W=({message:e,operationObject:t})=>{const{operation:r,args:n}=t,o=n.map(t=>{const{sourceKeys:r,defaultVal:n}=t,o=$(e,r);return o||!1===o||0===o?o:n});if(!o.every(e=>Y(e)))return null;let i=null;switch(r){case"multiplication":i=1;for(const e of o){if("number"!=typeof e)return null;i*=e}return i.toFixed(2);case"addition":i=0;for(const e of o){if("number"!=typeof e)return null;i+=e}return i.toFixed(2);default:return null}},z=(e,t)=>{let r=e;const n={jsonStringify:()=>{r=JSON.stringify(e)},jsonStringifyOnObject:()=>{"string"!=typeof e&&(r=JSON.stringify(e))},toString:()=>{r=String(e)},toNumber:()=>{r=Number(e)},toFloat:()=>{r=parseFloat(e)},toInt:()=>{r=parseInt(e,10)},toLower:()=>{r=e.toString().toLowerCase()},trim:()=>{"string"==typeof e&&(r=e.trim())},IsBoolean:()=>{r=!0,"boolean"!=typeof e&&(M.debug("Boolean value missing, so dropping it"),r=!1)}};if(t in n){(0,n[t])()}return r},H=(e,t)=>{const r={};return Array.isArray(t)&&t.length>0&&t.forEach(t=>{const{sourceKeys:n,destKey:o,metadata:i}=t,s=((e,t)=>{if(!t)return e;const{type:r,defaultValue:n}=t;if(!Y(e))return n||e;let o=e;return r&&(Array.isArray(r)?r.forEach(e=>{o=z(o,e)}):o=z(o,r)),o})(((e,t)=>{if(Array.isArray(t)&&t.length>0){for(const r of t){let t;if(t="object"==typeof r?W({message:e,operationObject:r}):$(e,r),t||!1===t||0===t)return t}return null}return"object"==typeof t?W({message:e,operationObject:t}):$(e,t)})(e,n),i);(s||0===s||!1===s)&&o&&(r[o]=s)}),r};function J(e,t,r,n){if(!e||""===e.trim())return!1;if(!t)return!1;if(t&&!r)return!0;if(t&&r){const t=[];return n.forEach(e=>{""!==e.eventName&&t.push(e.eventName)}),t.includes(e.trim())}return!1}function Q(e,t,r,n,o){return Y(t)?J(e,t,r,n):!o}function X(e,t,r,n,o){return Y(t)?J(e,t,r,n):o}function Z(e,t,r){const n={};return e&&(t&&"string"==typeof t?e.forEach(e=>{e.name.toLowerCase()===t.toLowerCase()&&(n.conversionLabel=e.conversionLabel,n.eventName=e.name)}):r&&(n.conversionLabel=r,n.eventName="Viewed a Page")),n}function ee(e){const t={...e};return t?.newCustomer&&(t.new_customer=t.newCustomer,delete t.newCustomer),t}const te=new n(t);const re=["item_id","itemId","product_id","item_name","itemName","name","coupon","item_brand","itemBrand","brand","item_variant","itemVariant","variant","price","quantity","index","position","affiliation","discount","item_category","itemCategory","category","item_category2","item_category3","item_category4","item_category5","item_list_id","item_list_name","location_id"],ne=[{sourceKeys:["product_id","itemId"],destKey:"item_id"},{sourceKeys:["name","itemName"],destKey:"item_name"},{sourceKeys:"coupon",destKey:"coupon"},{sourceKeys:["brand","itemBrand"],destKey:"item_brand"},{sourceKeys:["variant","itemVariant"],destKey:"item_variant"},{sourceKeys:"price",destKey:"price",metadata:{type:"toNumber"}},{sourceKeys:"quantity",destKey:"quantity",metadata:{type:"toNumber"}},{sourceKeys:"position",destKey:"index",metadata:{type:"toNumber"}},{sourceKeys:"affiliation",destKey:"affiliation"},{sourceKeys:"discount",destKey:"discount"},{sourceKeys:["category","itemCategory"],destKey:"item_category"},{sourceKeys:"item_category2",destKey:"item_category2"},{sourceKeys:"item_category3",destKey:"item_category3"},{sourceKeys:"item_category4",destKey:"item_category4"},{sourceKeys:"item_category5",destKey:"item_category5"},{sourceKeys:"item_list_id",destKey:"item_list_id"},{sourceKeys:"item_list_name",destKey:"item_list_name"},{sourceKeys:"location_id",destKey:"location_id"}],oe={method:{sourceKeys:"properties.method",destKey:"method"},product_cart_shared_method:{sourceKeys:"properties.share_via",destKey:"method"},currency:{sourceKeys:"properties.currency",destKey:"currency",metadata:{defaultValue:"USD"}},value:{sourceKeys:["properties.total","properties.value","properties.revenue","properties.price"],destKey:"value",metadata:{type:"toNumber"}},product_add_or_remove_value:{sourceKeys:["properties.total","properties.value","properties.revenue",{operation:"multiplication",args:[{sourceKeys:"properties.price"},{sourceKeys:"properties.quantity",defaultVal:1}]}],destKey:"value",metadata:{type:"toNumber"}},search:{sourceKeys:"properties.query",destKey:"search_term"},list_id:{sourceKeys:"properties.list_id",destKey:"item_list_id"},list_name:{sourceKeys:"properties.category",destKey:"item_list_name"},creative_name:{sourceKeys:["properties.creative_name","properties.creative"],destKey:"creative_name"},creative_slot:{sourceKeys:["properties.creative_slot","properties.position"],destKey:"creative_slot"},promotion_id:{sourceKeys:"properties.promotion_id",destKey:"promotion_id"},promotion_name:{sourceKeys:["properties.promotion_name","properties.name"],destKey:"promotion_name"},coupon:{sourceKeys:"properties.coupon",destKey:"coupon"},payment_method:{sourceKeys:"properties.payment_method",destKey:"payment_type"},shipping_method:{sourceKeys:"properties.shipping_method",destKey:"shipping_tier"},order_id:{sourceKeys:"properties.order_id",destKey:"transaction_id"},shipping:{sourceKeys:"properties.shipping",destKey:"shipping",metadata:{type:"toNumber"}},tax:{sourceKeys:"properties.tax",destKey:"tax",metadata:{type:"toNumber"}},content_type:{sourceKeys:"properties.content_type",destKey:"content_type"},item_id:{sourceKeys:["properties.item_id","properties.product_id","properties.sku"],destKey:"item_id"},cart_shared_item_id:{sourceKeys:["properties.item_id","properties.cart_id"],destKey:"item_id"},url:{sourceKeys:["properties.url","context.page.url"],destKey:"page_location"},referrer:{sourceKeys:["properties.referrer","context.page.referrer"],destKey:"page_referrer"},title:{sourceKeys:["properties.title","context.page.title"],destKey:"page_title"}},ie={LOGIN:{event:"login",mapping:[oe.method]},SIGN_UP:{event:"sign_up",mapping:[oe.method]},GENERATE_LEAD:{event:"generate_lead",mapping:[oe.currency,{...oe.value,required:!0}]},PRODUCTS_SEARCHED:{event:"search",mapping:[oe.search]},PRODUCT_SEARCHED:{event:"search",mapping:[oe.search]},PRODUCT_LIST_VIEWED:{event:"view_item_list",itemList:"YES",mapping:[oe.list_id,oe.list_name]},PROMOTION_VIEWED:{event:"view_promotion",itemList:"YES",mapping:[oe.promotion_id,oe.creative_slot,oe.creative_name,oe.promotion_name]},PROMOTION_CLICKED:{event:"select_promotion",itemList:"NO",mapping:[oe.promotion_id,oe.creative_slot,oe.creative_name,oe.promotion_name]},PRODUCT_CLICKED:{event:"select_item",item:"YES",mapping:[oe.list_id,oe.list_name]},PRODUCTS_CLICKED:{event:"select_item",item:"YES",mapping:[oe.list_id,oe.list_name]},PRODUCT_VIEWED:{event:"view_item",item:"YES",mapping:[oe.currency,{...oe.value,required:!0}]},PRODUCT_ADDED:{event:"add_to_cart",itemList:"NO",item:"YES",mapping:[oe.currency,{...oe.product_add_or_remove_value,required:!0}]},PRODUCT_REMOVED:{event:"remove_from_cart",itemList:"NO",item:"YES",mapping:[oe.currency,{...oe.product_add_or_remove_value,required:!0}]},CART_VIEWED:{event:"view_cart",itemList:"YES",mapping:[oe.currency,{...oe.value,required:!0}]},CHECKOUT_STARTED:{event:"begin_checkout",itemList:"YES",mapping:[oe.currency,oe.coupon,{...oe.value,required:!0}]},PAYMENT_INFO_ENTERED:{event:"add_payment_info",itemList:"YES",mapping:[oe.currency,oe.coupon,oe.payment_method,{...oe.value,required:!0}]},CHECKOUT_STEP_COMPLETED:{event:"add_shipping_info",itemList:"YES",mapping:[oe.currency,oe.coupon,oe.shipping_method,{...oe.value,required:!0}]},ORDER_COMPLETED:{event:"purchase",itemList:"YES",mapping:[oe.tax,oe.coupon,oe.shipping,oe.currency,{...oe.value,required:!0},{...oe.order_id,required:!0}]},ORDER_REFUNDED:{event:"refund",itemList:"NO",mapping:[oe.tax,oe.coupon,oe.shipping,oe.currency,{...oe.value,required:!0},{...oe.order_id,required:!0}]},PRODUCT_ADDED_TO_WISHLIST:{event:"add_to_wishlist",itemList:"NO",item:"YES",mapping:[oe.currency,{...oe.value,required:!0}]},PRODUCT_SHARED:{event:"share",mapping:[oe.item_id,oe.content_type,oe.product_cart_shared_method]},CART_SHARED:{event:"share",mapping:[oe.content_type,oe.cart_shared_item_id,oe.product_cart_shared_method]},PAGE:{event:"page_view",mapping:[oe.url,oe.title,oe.referrer]}},se=[ie.PRODUCT_CLICKED.event,ie.PRODUCT_VIEWED.event,ie.PRODUCT_ADDED.event,ie.PRODUCT_REMOVED.event,ie.PRODUCT_ADDED_TO_WISHLIST.event],ae=new n("Google Analytics 4 (GA4)"),ce=e=>e.split(".").pop(),ue=e=>{const t={};if("object"==typeof e&&!Array.isArray(e)){return Object.keys(e).forEach(r=>{const n=e[r];("items"===r||"object"!=typeof n&&!(e=>"string"==typeof e&&w(e.trim()))(n))&&(t[r]=n)}),t}return e},le=(e,t,r)=>{let n={};return n=x(e,n,t,r),L(n)||(n=T(n,"_","strict")),n},pe=e=>{const t=[],{properties:r}=e;let n=r?.products,o=!1;return"object"!=typeof n||Array.isArray(n)||(o=!0,n=[n]),Array.isArray(n)&&n.forEach((r,n)=>{let i=H(r,ne);const s=x(e,{},o?["properties.products"]:[`properties.products.${n}`],re);L(s)||(i=ue({...i,...T(s,"_","strict")})),L(i)||t.push(i)}),t},de=e=>{const{properties:t}=e,r=[];if(t&&Object.keys(t).length>0){const e=H(t,ne);L(e)||r.push(e)}return r},ye=(e,t)=>{const{event:r,mapping:n}=t;let o=H(e,n);if(Array.isArray(n)&&n.length>0){if(n.some(e=>!(k(o[e.destKey])||!e.required)&&(ae.error(`Missing required value from ${JSON.stringify(e.sourceKeys)}`),!0)))return null}const{items:i,mapRootLevelPropertiesToGA4ItemsArray:s}=((e,t)=>{const{itemList:r,item:n}=t;let o=[],i=!1;return r&&n?(o=pe(e),o&&o.length>0||(i=!0,o=de(e))):n?(i=!0,o=de(e)):r&&(o=pe(e)),{items:o,mapRootLevelPropertiesToGA4ItemsArray:i}})(e,t),a=((e,t,r)=>{let n=t.reduce((e,t)=>{const r=t.sourceKeys;return"string"==typeof r?e.push(ce(r)):Array.isArray(r)&&r.forEach(t=>{"string"==typeof t&&e.push(ce(t))}),e},[]);return n.push("products"),e&&se.includes(r)&&(n=n.concat(re)),n})(s,n,r),c=le(e,["properties"],a);return i.length>0&&(o.items=i),L(c)||(o={...o,...c}),o},me=(e,t)=>{const r=ie[`${t.toUpperCase()}`],n=r?ye(e,r):(e=>le(e,["properties"],[]))(e);if(!n)return null;return{params:ue(n),event:r?r.event:t}},fe=new n(t);return e.GoogleAds=class{constructor(e,t,r){t.logLevel&&fe.setLogLevel(t.logLevel),this.analytics=t,this.conversionId=e.conversionID,this.pageLoadConversions=e.pageLoadConversions,this.clickEventConversions=e.clickEventConversions,this.defaultPageConversion=e.defaultPageConversion,this.sendPageView=e.sendPageView||!0,this.conversionLinker=e.conversionLinker||!0,this.disableAdPersonalization=e.disableAdPersonalization||!1,this.trackConversions=e.trackConversions,this.trackDynamicRemarketing=e.trackDynamicRemarketing,this.enableConversionEventsFiltering=e.enableConversionEventsFiltering||!1,this.enableDynamicRemarketingEventsFiltering=e.enableDynamicRemarketingEventsFiltering||!1,this.eventsToTrackConversions=e.eventsToTrackConversions||[],this.eventsToTrackDynamicRemarketing=e.eventsToTrackDynamicRemarketing||[],this.eventMappingFromConfig=e.eventMappingFromConfig,this.enableConversionLabel=e.enableConversionLabel||!1,this.dynamicRemarketing=e.dynamicRemarketing,this.allowEnhancedConversions=e.allowEnhancedConversions||!1,this.v2=e.v2||!0,this.allowIdentify=e.allowIdentify??!1,this.name="GOOGLEADS",({shouldApplyDeviceModeTransformation:this.shouldApplyDeviceModeTransformation,propagateEventsUntransformedOnError:this.propagateEventsUntransformedOnError,destinationId:this.destinationId}=r??{})}init(){!function(e){!function(e,t,r){te.info(`in script loader=== ${e}`);const n=r.createElement("script");n.src=t,n.async=1,n.setAttribute("data-loader","RS_JS_SDK"),n.type="text/javascript",n.id=e,r.getElementsByTagName("head")[0].appendChild(n)}("googleAds-integration",e,document),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date)}(`https://www.googletagmanager.com/gtag/js?id=${this.conversionId}`);const e={send_page_view:this.sendPageView,conversion_linker:this.conversionLinker};this.allowEnhancedConversions&&(e.allow_enhanced_conversions=this.allowEnhancedConversions),this.disableAdPersonalization&&window.gtag("set","allow_ad_personalization_signals",!1),window.gtag("config",this.conversionId,e)}isLoaded(){return!(!window.dataLayer||window.dataLayer.push===Array.prototype.push)}isReady(){return this.isLoaded()}identify(e){if(!1===this.allowIdentify)return void fe.info("Please enable identify call toggle in your destination settings to send user data to Google Ads.");const{context:t}=e.message,{traits:r}=t;if(!(R(n=r)&&j(n)&&S(n)))return void fe.error("Traits are mandatory for identify call");var n;if(!(r.email&&r.phone&&(r.firstName||r.lastName||r.postalCode||r.country)))return void fe.error("Email, Phone are mandatory fields and either of FirstName, LastName, PostalCode, Country is mandatory for identify call");const o=function(e){const t={};return e&&(t.address={},Y(e.email)&&(t.email=e.email),Y(e.phone)&&(t.phone_number=e.phone),Y(e.firstName)&&(t.address.first_name=e.firstName),Y(e.lastName)&&(t.address.last_name=e.lastName),Y(e.city)&&(t.address.city=e.city),Y(e.street)&&(t.address.street=e.street),Y(e.state)&&(t.address.region=e.state),Y(e.postalCode)&&(t.address.postal_code=e.postalCode),Y(e.country)&&(t.address.country=e.country),e.city||e.state||e.postalCode||e.country||e.street||delete t.address),t}(r);window.gtag("set","user_data",o)}track(e){const{event:t}=e.message,r=Z(this.clickEventConversions,t,this.defaultPageConversion);if(r.conversionLabel&&Q(t,this.trackConversions,this.enableConversionEventsFiltering,this.eventsToTrackConversions,this.dynamicRemarketing)){const{conversionLabel:t}=r,{eventName:n}=r,o=`${this.conversionId}/${t}`;let i={value:e.message?.properties?.revenue,currency:e.message?.properties?.currency,transaction_id:e.message?.properties?.order_id,send_to:o};if(this.v2){const t=n.trim().replace(/\s+/g,"_"),r=me(e.message,t);i={...i,...r?.params}}i=D(k,i),i=ee(i);const s=this.enableConversionLabel?"conversion":n;window.gtag("event",s,i)}if(X(t,this.trackDynamicRemarketing,this.enableDynamicRemarketingEventsFiltering,this.eventsToTrackDynamicRemarketing,this.dynamicRemarketing)){const t=((e,t="from",r="to",n=!0)=>{const o={};return Array.isArray(e)&&e.forEach(e=>{if(!S(e[t]))return;if("string"!=typeof e[t])return;const i=n?e[t].toLowerCase().trim():e[t].trim();o[i]?o[i].includes(e[r])||o[i].push(e[r]):o[i]=[e[r]]}),o})(this.eventMappingFromConfig,"from","to",!1);let{properties:r}=e.message;const{event:n}=e.message;if(this.v2){const t=n.toString().trim().replace(/\s+/g,"_"),o=me(e.message,t);r={...r,...o?.params}}r=ee(r);const o=r||{},i=this.conversionId;o.send_to=i;const s=function(e,t){return t[e]?t[e]:null}(n,t);s?s.forEach(e=>{window.gtag("event",e,o)}):window.gtag("event",n,o)}}page(e){const{name:t}=e.message,r=Z(this.pageLoadConversions,t,this.defaultPageConversion);if(r.conversionLabel&&Q(t,this.trackConversions,this.enableConversionEventsFiltering,this.eventsToTrackConversions,this.dynamicRemarketing)){const{conversionLabel:e}=r,{eventName:t}=r,n=this.enableConversionLabel?"conversion":t;window.gtag("event",n,{send_to:`${this.conversionId}/${e}`})}if(X(t,this.trackDynamicRemarketing,this.enableDynamicRemarketingEventsFiltering,this.eventsToTrackDynamicRemarketing,this.dynamicRemarketing)){const r=t,{properties:n}=e.message,o=this.conversionId,i=n||{};i.send_to=o,window.gtag("event",r,i)}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=GoogleAds.min.js.map
